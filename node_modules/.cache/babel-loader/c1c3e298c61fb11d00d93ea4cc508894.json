{"ast":null,"code":"// import { FETCH_PRODUCTS } from \"../types\";\n// import { FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../types\";\n// export const fetchProducts = () => async (dispatch) => {\n//   const res = await fetch(\"/api/products\");\n//   // the data comes from Fitch method need to be converted to JSON\n//   // below ... the JSON file return Promose, make it await\n//   const data = await res.json();\n//   console.log(data);\n//   dispatch({\n//     type: FETCH_PRODUCTS,\n//     payload: data,\n//   });\n// };\n// //takes two params 1. all products 2.the sizes we need to filter\n// export const filterProducts = (products, size) => (dispatch) => {\n//   dispatch({\n//     type: FILTER_PRODUCTS_BY_SIZE,\n//     // gonna send an object and it contains two value. 1. the selected size and filtered products\n//     payload: {\n//       size: size,\n//       items:\n//         size === \"\"\n//           ? products\n//           : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n//     },\n//   });\n// };\n// export const sortProducts = (filteredProducts, sort) => (dispatch) => {\n//   const sortedProducts = filteredProducts.slice();\n//   // \"\" means sorted by _id\n//   if (sort === \"latest\") {\n//     sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\n//     // sorted by price\n//   } else {\n//     sortedProducts.sort((a, b) =>\n//       sort === \"lowest\"\n//         ? //lowest to highest\n//           a.price > b.price\n//           ? 1\n//           : -1\n//         : //highest to lowest\n//         a.price > b.price\n//         ? -1\n//         : 1\n//     );\n//   }\n//   console.log(sortedProducts);\n//   dispatch({\n//     type: ORDER_PRODUCTS_BY_PRICE,\n//     payload: {\n//       sort: sort,\n//       items: sortedProducts,\n//     },\n//   });\n// };\nimport { FETCH_PRODUCTS } from \"../types\";\nimport { FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../types\";\nexport const fetchProducts = () => async dispatch => {\n  const res = await fetch(\"/api/products\");\n  const data = await res.json();\n  console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data\n  });\n};\nexport const filterProducts = (products, size) => dispatch => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items: size === \"\" ? products : products.filter(x => x.availableSizes.indexOf(size) >= 0)\n    }\n  });\n};\nexport const sortProducts = (filteredProducts, sort) => dispatch => {\n  const sortedProducts = filteredProducts.slice();\n\n  if (sort === \"latest\") {\n    sortedProducts.sort((a, b) => a._id > b._id ? 1 : -1);\n  } else {\n    sortedProducts.sort((a, b) => sort === \"lowest\" ? a.price > b.price ? 1 : -1 : a.price > b.price ? -1 : 1);\n  }\n\n  console.log(sortedProducts);\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: sortedProducts\n    }\n  });\n};","map":{"version":3,"sources":["/Users/ronanmak/Documents/react-shopping-cart/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","ORDER_PRODUCTS_BY_PRICE","fetchProducts","dispatch","res","fetch","data","json","console","log","type","payload","filterProducts","products","size","items","filter","x","availableSizes","indexOf","sortProducts","filteredProducts","sort","sortedProducts","slice","a","b","_id","price"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,cAAT,QAA+B,UAA/B;AACA,SAASC,uBAAT,EAAkCC,uBAAlC,QAAiE,UAAjE;AACA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,eAAD,CAAvB;AACA,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAH,EAAAA,QAAQ,CAAC;AACPO,IAAAA,IAAI,EAAEX,cADC;AAEPY,IAAAA,OAAO,EAAEL;AAFF,GAAD,CAAR;AAID,CARM;AAUP,OAAO,MAAMM,cAAc,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAqBX,QAAD,IAAc;AAC9DA,EAAAA,QAAQ,CAAC;AACPO,IAAAA,IAAI,EAAEV,uBADC;AAEPW,IAAAA,OAAO,EAAE;AACPG,MAAAA,IAAI,EAAEA,IADC;AAEPC,MAAAA,KAAK,EACHD,IAAI,KAAK,EAAT,GACID,QADJ,GAEIA,QAAQ,CAACG,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBL,IAAzB,KAAkC,CAAzD;AALC;AAFF,GAAD,CAAR;AAUD,CAXM;AAYP,OAAO,MAAMM,YAAY,GAAG,CAACC,gBAAD,EAAmBC,IAAnB,KAA6BnB,QAAD,IAAc;AACpE,QAAMoB,cAAc,GAAGF,gBAAgB,CAACG,KAAjB,EAAvB;;AACA,MAAIF,IAAI,KAAK,QAAb,EAAuB;AACrBC,IAAAA,cAAc,CAACD,IAAf,CAAoB,CAACG,CAAD,EAAIC,CAAJ,KAAWD,CAAC,CAACE,GAAF,GAAQD,CAAC,CAACC,GAAV,GAAgB,CAAhB,GAAoB,CAAC,CAApD;AACD,GAFD,MAEO;AACLJ,IAAAA,cAAc,CAACD,IAAf,CAAoB,CAACG,CAAD,EAAIC,CAAJ,KAClBJ,IAAI,KAAK,QAAT,GACIG,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACE,CADF,GAEE,CAAC,CAHP,GAIIH,CAAC,CAACG,KAAF,GAAUF,CAAC,CAACE,KAAZ,GACA,CAAC,CADD,GAEA,CAPN;AASD;;AACDpB,EAAAA,OAAO,CAACC,GAAR,CAAYc,cAAZ;AACApB,EAAAA,QAAQ,CAAC;AACPO,IAAAA,IAAI,EAAET,uBADC;AAEPU,IAAAA,OAAO,EAAE;AACPW,MAAAA,IAAI,EAAEA,IADC;AAEPP,MAAAA,KAAK,EAAEQ;AAFA;AAFF,GAAD,CAAR;AAOD,CAvBM","sourcesContent":["// import { FETCH_PRODUCTS } from \"../types\";\n// import { FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../types\";\n\n// export const fetchProducts = () => async (dispatch) => {\n//   const res = await fetch(\"/api/products\");\n//   // the data comes from Fitch method need to be converted to JSON\n//   // below ... the JSON file return Promose, make it await\n//   const data = await res.json();\n//   console.log(data);\n//   dispatch({\n//     type: FETCH_PRODUCTS,\n//     payload: data,\n//   });\n// };\n\n// //takes two params 1. all products 2.the sizes we need to filter\n// export const filterProducts = (products, size) => (dispatch) => {\n//   dispatch({\n//     type: FILTER_PRODUCTS_BY_SIZE,\n//     // gonna send an object and it contains two value. 1. the selected size and filtered products\n//     payload: {\n//       size: size,\n//       items:\n//         size === \"\"\n//           ? products\n//           : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n//     },\n//   });\n// };\n\n// export const sortProducts = (filteredProducts, sort) => (dispatch) => {\n//   const sortedProducts = filteredProducts.slice();\n//   // \"\" means sorted by _id\n//   if (sort === \"latest\") {\n//     sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\n//     // sorted by price\n//   } else {\n//     sortedProducts.sort((a, b) =>\n//       sort === \"lowest\"\n//         ? //lowest to highest\n//           a.price > b.price\n//           ? 1\n//           : -1\n//         : //highest to lowest\n//         a.price > b.price\n//         ? -1\n//         : 1\n//     );\n//   }\n//   console.log(sortedProducts);\n//   dispatch({\n//     type: ORDER_PRODUCTS_BY_PRICE,\n//     payload: {\n//       sort: sort,\n//       items: sortedProducts,\n//     },\n//   });\n// };\n\nimport { FETCH_PRODUCTS } from \"../types\";\nimport { FILTER_PRODUCTS_BY_SIZE, ORDER_PRODUCTS_BY_PRICE } from \"../types\";\nexport const fetchProducts = () => async (dispatch) => {\n  const res = await fetch(\"/api/products\");\n  const data = await res.json();\n  console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data,\n  });\n};\n\nexport const filterProducts = (products, size) => (dispatch) => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    payload: {\n      size: size,\n      items:\n        size === \"\"\n          ? products\n          : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n    },\n  });\n};\nexport const sortProducts = (filteredProducts, sort) => (dispatch) => {\n  const sortedProducts = filteredProducts.slice();\n  if (sort === \"latest\") {\n    sortedProducts.sort((a, b) => (a._id > b._id ? 1 : -1));\n  } else {\n    sortedProducts.sort((a, b) =>\n      sort === \"lowest\"\n        ? a.price > b.price\n          ? 1\n          : -1\n        : a.price > b.price\n        ? -1\n        : 1\n    );\n  }\n  console.log(sortedProducts);\n  dispatch({\n    type: ORDER_PRODUCTS_BY_PRICE,\n    payload: {\n      sort: sort,\n      items: sortedProducts,\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}