{"ast":null,"code":"import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE } from \"../types\";\nexport const fetchProducts = () => async dispatch => {\n  const res = await fetch(\"/api/products\"); // the data comes from Fitch method need to be converted to JSON\n  // below ... the JSON file return Promose, make it await\n\n  const data = await res.json();\n  console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data\n  });\n}; //takes two params 1. all products 2.the sizes we need to filter\n\nexport const filterProducts = (products, size) => dispatch => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    // gonna send an object and it contains two value. 1. the selected size and filtered products\n    payload: {\n      size: size,\n      items: size === \"\" ? products : products.filter(x => x.availableSizes.indexOf(size) >= 0)\n    }\n  });\n};","map":{"version":3,"sources":["/Users/ronanmak/Documents/react-shopping-cart/src/actions/productActions.js"],"names":["FETCH_PRODUCTS","FILTER_PRODUCTS_BY_SIZE","fetchProducts","dispatch","res","fetch","data","json","console","log","type","payload","filterProducts","products","size","items","filter","x","availableSizes","indexOf"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,uBAAzB,QAAwD,UAAxD;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACrD,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,eAAD,CAAvB,CADqD,CAErD;AACA;;AACA,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAH,EAAAA,QAAQ,CAAC;AACPO,IAAAA,IAAI,EAAEV,cADC;AAEPW,IAAAA,OAAO,EAAEL;AAFF,GAAD,CAAR;AAID,CAVM,C,CAYP;;AACA,OAAO,MAAMM,cAAc,GAAG,CAACC,QAAD,EAAWC,IAAX,KAAqBX,QAAD,IAAc;AAC9DA,EAAAA,QAAQ,CAAC;AACPO,IAAAA,IAAI,EAAET,uBADC;AAEP;AACAU,IAAAA,OAAO,EAAE;AACPG,MAAAA,IAAI,EAAEA,IADC;AAEPC,MAAAA,KAAK,EACHD,IAAI,KAAK,EAAT,GACID,QADJ,GAEIA,QAAQ,CAACG,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACC,cAAF,CAAiBC,OAAjB,CAAyBL,IAAzB,KAAkC,CAAzD;AALC;AAHF,GAAD,CAAR;AAWD,CAZM","sourcesContent":["import { FETCH_PRODUCTS, FILTER_PRODUCTS_BY_SIZE } from \"../types\";\n\nexport const fetchProducts = () => async (dispatch) => {\n  const res = await fetch(\"/api/products\");\n  // the data comes from Fitch method need to be converted to JSON\n  // below ... the JSON file return Promose, make it await\n  const data = await res.json();\n  console.log(data);\n  dispatch({\n    type: FETCH_PRODUCTS,\n    payload: data,\n  });\n};\n\n//takes two params 1. all products 2.the sizes we need to filter\nexport const filterProducts = (products, size) => (dispatch) => {\n  dispatch({\n    type: FILTER_PRODUCTS_BY_SIZE,\n    // gonna send an object and it contains two value. 1. the selected size and filtered products\n    payload: {\n      size: size,\n      items:\n        size === \"\"\n          ? products\n          : products.filter((x) => x.availableSizes.indexOf(size) >= 0),\n    },\n  });\n};\n"]},"metadata":{},"sourceType":"module"}